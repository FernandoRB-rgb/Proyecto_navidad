function handleLoginSubmit(i){hideAllErrors();var e=document.getElementById("name"),o=document.getElementById("password"),s=document.getElementById("site"),t=document.getElementById("section"),e=e.value,o=o.value;let n=s.value;s=t.value;let a="popup"==i.dataset.type?1:0;e&&o&&(t={username:e,password:o,site:n,section:s},i.classList.add("disabled-click","no-opacity"),doFetch("/ajax/userLogin",t).then(e=>{if(e.ok)return e.json();throw i.classList.remove("disabled-click","no-opacity"),new Error("Error fetching items")}).then(e=>{var o,s,t,r;1==e?.deleteC?(setCookie("userName","",-1),setCookie("userHash","",-1),setCookie("userPass","",-1),setCookie("userAvatar","",-1),setCookie("userEmail","",-1),setCookie("userId","",-1),setCookie("lastTime","",-1),setCookie("userFavorites","",-1),(o=e?.message)&&(i.classList.remove("disabled-click","no-opacity"),showError(mappedError(1),o),"Tu cuenta ha sido suspendida temporalmente"!=o)&&showError(mappedError(3),o)):(o=e?.user?.location,r=e?.favorites,s=e?.subscription_web,t=e?.user?.road,setCookie("userName",e?.cookies?.userName,86400),setCookie("userHash",e?.cookies?.userHash,86400),setCookie("userPass",e?.cookies?.userPass,86400),setCookie("userAvatar",e?.cookies?.userAvatar,86400),setCookie("userEmail",e?.cookies?.userEmail,86400),setCookie("userId",e?.cookies?.userId,86400),r&&setCookie("userFavorites",r,604800),s&&null!==s&&(r=s?.secondsDiff,setCookie("subscription",e?.cookies?.userId,r),window.location="rf"===n?"https://www.resultados-futbol.com":o),t?window.location=o:a?window.location=window.location.href:o&&(window.location="referrer"in document&&document.referrer&&document.location.href!==document.referrer&&!document.referrer.includes("reset-password")?document.referrer:o))}))}function prep_login(){let e=document.getElementById("loginButton");e&&e.addEventListener("click",function(){handleLoginSubmit(e)})}document.addEventListener("DOMContentLoaded",function(){prep_login()});